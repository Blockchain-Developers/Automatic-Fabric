version: "3.1"

networks:
    fabric:

services:
    db:
        image: mariadb:latest
        restart: always
        environment:
            MYSQL_ROOT_PASSWORD: super-secret-pass
            MYSQL_USER: nodejs
            MYSQL_PASSWORD: nodejspassword
            MYSQL_DATABASE: users
        ports:
            - "3306:3306"
        networks:
            - fabric
    nginx:
        image: nginx:latest
        restart: always
        networks:
            - fabric
    Authenticate:
        image: node:12.18
        restart: always
        networks:
            - fabric
    automatic_fabric:
        image: node:12.18
        restart: always
        networks:
            - fabric
        entrypoint:
            - npm
            - run
            - start
